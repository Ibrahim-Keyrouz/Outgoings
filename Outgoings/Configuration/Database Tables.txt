CREATE TABLE  "PRODUCTS" 
   (	"PRDID" NUMBER NOT NULL ENABLE, 
	"DESCRIPTION" VARCHAR2(200) NOT NULL ENABLE, 
	 CONSTRAINT "PRODUCTS_PK" PRIMARY KEY ("PRDID") ENABLE
   )



CREATE TABLE  "GROUPS" 
   (	"GROUPID" NUMBER, 
	"DESCRIPTION" VARCHAR2(200), 
	 CONSTRAINT "GROUPS_CON" PRIMARY KEY ("DESCRIPTION") ENABLE
   )
   
   
    CREATE TABLE  "USERS" 
   (	"USERID" VARCHAR2(5) NOT NULL ENABLE, 
	"NAME" VARCHAR2(50) NOT NULL ENABLE, 
	"PASSWORD" VARCHAR2(2000) NOT NULL ENABLE, 
	"DESCRIPTION" VARCHAR2(200) NOT NULL ENABLE, 
	 CONSTRAINT "USERS_PK" PRIMARY KEY ("USERID") ENABLE, 
	 CONSTRAINT "USERS_CON" FOREIGN KEY ("DESCRIPTION")
	  REFERENCES  "GROUPS" ("DESCRIPTION") ENABLE
   )
   
   
   CREATE TABLE  "MEMBERS" 
   (	"MEMBERID" NUMBER, 
	"DESCRIPTION" VARCHAR2(200), 
	"AGE" NUMBER, 
	"SEXE" VARCHAR2(1), 
	 CONSTRAINT "MEMBERS_PK" PRIMARY KEY ("MEMBERID") ENABLE
   )
   
   CREATE TABLE  "OUTGOINGS" 
   (	"DOCID" NUMBER NOT NULL ENABLE, 
	"MEMBERID" NUMBER NOT NULL ENABLE, 
	"TRSDATE" DATE NOT NULL ENABLE, 
	"PRDID" NUMBER NOT NULL ENABLE, 
	"QTY" NUMBER NOT NULL ENABLE, 
	"TOTAL" NUMBER NOT NULL ENABLE, 
	 CONSTRAINT "OUTGOINGS_PK" PRIMARY KEY ("DOCID") ENABLE, 
	 CONSTRAINT "OUTGOINGS_CON1" FOREIGN KEY ("MEMBERID")
	  REFERENCES  "MEMBERS" ("MEMBERID") ENABLE, 
	 CONSTRAINT "OUTGOINGS_CON2" FOREIGN KEY ("PRDID")
	  REFERENCES  "PRODUCTS" ("PRDID") ENABLE
   )
/

CREATE SEQUENCE   "OUTGOINGS_SEQ"  MINVALUE 1 MAXVALUE 999999999999999999999999999 INCREMENT BY 1 START WITH 121 CACHE 20 NOORDER  NOCYCLE



CREATE OR REPLACE TRIGGER  "BI_OUTGOINGS" 
  before insert on "OUTGOINGS"               
  for each row  
begin   
    select "OUTGOINGS_SEQ".nextval into :NEW.DOCID from dual; 
end; 

/
ALTER TRIGGER  "BI_OUTGOINGS" ENABLE
/


commit;




   
   
  